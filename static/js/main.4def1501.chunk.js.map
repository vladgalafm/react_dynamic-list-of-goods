{"version":3,"sources":["components/GoodsList/GoodsList.tsx","components/Button/Button.tsx","api/fetchData.ts","components/LoadButtons/LoadButtons.tsx","components/Goods/Goods.tsx","App.tsx","index.tsx"],"names":["GoodsList","goods","map","good","key","id","style","color","name","Button","handle","className","type","onClick","fetchData","url","a","fetch","response","json","LoadButtons","props","updateList","setLoading","setError","API_URL","getAll","data","filterFirstFive","sort","b","splice","filterReds","filter","loadGoods","callback","then","catch","Goods","state","isLoading","hasError","status","setState","updateGoodsList","list","this","React","Component","App","ReactDOM","render","document","getElementById"],"mappings":"qPAOaA,EAA6B,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OACxC,4BACGA,EAAMC,KAAI,SAACC,GAAD,OACT,wBAAIC,IAAKD,EAAKE,IACZ,0BAAMC,MAAO,CAAEC,MAAOJ,EAAKI,QACxBJ,EAAKK,YCLHC,EAA0B,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQF,EAAX,EAAWA,KAAX,OACrC,4BACEG,UAAU,eACVC,KAAK,SACLC,QAASH,GAERF,I,uBCbQM,EAAS,uCAAG,WAAUC,GAAV,eAAAC,EAAA,sEACAC,MAAMF,GADN,cACjBG,EADiB,yBAGhBA,EAASC,QAHO,2CAAH,sDCWTC,EAA+B,SAACC,GAAW,IAC9CC,EAAqCD,EAArCC,WAAYC,EAAyBF,EAAzBE,WAAYC,EAAaH,EAAbG,SAE1BC,EAAU,0CAEVC,EAAS,SAACC,GACd,OAAOA,GAGHC,EAAkB,SAACD,GACvB,OAAOA,EAAKE,MAAK,SAACb,EAAGc,GACnB,OAAQd,EAAER,KAAOsB,EAAEtB,KAAQ,GAAK,KAC/BuB,OAAO,EAAG,IAGTC,EAAa,SAACL,GAClB,OAAOA,EAAKM,QAAO,SAAA9B,GAAI,MAAmB,QAAfA,EAAKI,UAG5B2B,EAAY,WAAkD,IAAjDC,EAAgD,uDAAXT,EACtDF,GAAS,GACTD,GAAW,GAEXT,EAAgBW,GACbW,MAAK,SAAAT,GACJJ,GAAW,GACXD,EAAWa,EAASR,EAAKA,UAE1BU,OAAM,WACLd,GAAW,GACXC,GAAS,OAIf,OACE,yBAAKb,UAAU,WACb,kBAAC,EAAD,CACEH,KAAK,iBACLE,OAAQ,WACNwB,OAGJ,kBAAC,EAAD,CACE1B,KAAK,qBACLE,OAAQ,WACNwB,EAAUN,MAGd,kBAAC,EAAD,CACEpB,KAAK,iBACLE,OAAQ,WACNwB,EAAUF,QCnDPM,EAAb,4MACEC,MAAQ,CACNtC,MAAO,GACPuC,WAAW,EACXC,UAAU,GAJd,EAOElB,WAAa,SAACmB,GACZ,EAAKC,SAAS,CACZH,UAAWE,KATjB,EAaElB,SAAW,SAACkB,GACV,EAAKC,SAAS,CACZF,SAAUC,KAfhB,EAmBEE,gBAAkB,SAACC,GACjB,EAAKF,SAAS,CACZ1C,MAAO4C,KArBb,uDAyBY,IAAD,EACgCC,KAAKP,MAApCtC,EADD,EACCA,MAAOuC,EADR,EACQA,UAAWC,EADnB,EACmBA,SAE1B,OACE,oCACE,kBAAC,EAAD,CACEnB,WAAYwB,KAAKF,gBACjBrB,WAAYuB,KAAKvB,WACjBC,SAAUsB,KAAKtB,WAGfiB,GAAY,uBAAG9B,UAAU,SAAb,gCAGZ6B,GAAa,uBAAG7B,UAAU,QAAb,eAGZ8B,IAAaD,GAAa,kBAAC,EAAD,CAAWvC,MAAOA,SA1CvD,GAA2B8C,IAAMC,WCAlBC,EAPO,kBACpB,oCACE,qDACA,kBAAC,EAAD,QCHJC,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,U","file":"static/js/main.4def1501.chunk.js","sourcesContent":["import React from 'react';\nimport { Good } from '../../interfaces/good';\n\ninterface Props {\n  goods: Good[];\n}\n\nexport const GoodsList: React.FC<Props> = ({ goods }) => (\n  <ul>\n    {goods.map((good: Good) => (\n      <li key={good.id}>\n        <span style={{ color: good.color }}>\n          {good.name}\n        </span>\n      </li>\n    ))}\n  </ul>\n);\n","import React from 'react';\n\ntype Props = {\n  handle(): void;\n  name: string;\n};\n\nexport const Button: React.FC<Props> = ({ handle, name }) => (\n  <button\n    className=\"control__btn\"\n    type=\"button\"\n    onClick={handle}\n  >\n    {name}\n  </button>\n);\n","export const fetchData = async <T>(url: string): Promise<{data: T[]}> => {\n  const response = await fetch(url);\n\n  return response.json();\n};\n","import React from 'react';\nimport { Button } from '../Button/Button';\nimport { fetchData } from '../../api/fetchData';\nimport { Good } from '../../interfaces/good';\n\ninterface Props {\n  updateList(list: Good[]): void;\n  setLoading(status: boolean): void;\n  setError(status: boolean): void;\n}\n\nexport const LoadButtons: React.FC<Props> = (props) => {\n  const { updateList, setLoading, setError } = props;\n\n  const API_URL = 'https://mate.academy/students-api/goods';\n\n  const getAll = (data: Good[]) => {\n    return data;\n  };\n\n  const filterFirstFive = (data: Good[]) => {\n    return data.sort((a, b) => {\n      return (a.name > b.name) ? 1 : -1;\n    }).splice(0, 5);\n  };\n\n  const filterReds = (data: Good[]) => {\n    return data.filter(good => good.color === 'red');\n  };\n\n  const loadGoods = (callback: (data: Good[]) => Good[] = getAll) => {\n    setError(false);\n    setLoading(true);\n\n    fetchData<Good>(API_URL)\n      .then(data => {\n        setLoading(false);\n        updateList(callback(data.data));\n      })\n      .catch(() => {\n        setLoading(false);\n        setError(true);\n      });\n  };\n\n  return (\n    <div className=\"control\">\n      <Button\n        name=\"Load All goods\"\n        handle={() => {\n          loadGoods();\n        }}\n      />\n      <Button\n        name=\"Load 5 first goods\"\n        handle={() => {\n          loadGoods(filterFirstFive);\n        }}\n      />\n      <Button\n        name=\"Load red goods\"\n        handle={() => {\n          loadGoods(filterReds);\n        }}\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport { GoodsList } from '../GoodsList/GoodsList';\nimport { LoadButtons } from '../LoadButtons/LoadButtons';\nimport { Good } from '../../interfaces/good';\n\ninterface State {\n  goods: Good[];\n  isLoading: boolean;\n  hasError: boolean;\n}\n\nexport class Goods extends React.Component<{}, State> {\n  state = {\n    goods: [],\n    isLoading: false,\n    hasError: false,\n  };\n\n  setLoading = (status: boolean) => {\n    this.setState({\n      isLoading: status,\n    });\n  };\n\n  setError = (status: boolean) => {\n    this.setState({\n      hasError: status,\n    });\n  };\n\n  updateGoodsList = (list: Good[]) => {\n    this.setState({\n      goods: list,\n    });\n  };\n\n  render() {\n    const { goods, isLoading, hasError } = this.state;\n\n    return (\n      <>\n        <LoadButtons\n          updateList={this.updateGoodsList}\n          setLoading={this.setLoading}\n          setError={this.setError}\n        />\n        {\n          hasError && <p className=\"error\">Error occurred while loading</p>\n        }\n        {\n          isLoading && <p className=\"load\">Loading...</p>\n        }\n        {\n          !hasError && !isLoading && <GoodsList goods={goods} />\n        }\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport './App.css';\nimport { Goods } from './components/Goods/Goods';\n\nconst App: React.FC = () => (\n  <>\n    <h1>Dynamic list of Goods</h1>\n    <Goods />\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}